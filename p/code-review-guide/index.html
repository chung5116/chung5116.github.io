<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="前言 隨著現在開發軟體、韌體的人數增加，大家協作同一份 repo 的頻率開始上升，尤其實在公司決定採用 Monorepo 架構後，協作頻率更是呈現指數型狂飆阿。\n工程師難免會因為 deadline 壓力，而遞交出臭臭髒髒的 code，為了避免改 A 壞 B 這種情況發生，以及日後的維護性。這時，如何把關程式碼品質，又不影響到開發進度，就是 Reviewer 重要的課題。\n我之前沒有 Code Review 經驗，想藉由整理這篇文章，好好學習學習。\nWhat is Code Review ? Wiki 上的定義\nCode review is a software quality assurance activity in which one or more people check a program, mainly by viewing and reading parts of its source code, either after implementation or as an interruption of implementation. At least one of the persons must not have authored the code. The persons performing the checking, excluding the author, are called &ldquo;reviewers&rdquo;\n"><meta name=keywords content="code,review"><title>Code Review Guide — 如何Code Review?</title><link rel=canonical href=https://chung5116.github.io/p/code-review-guide/><link rel=stylesheet href=/scss/style.min.38e5df0eaa5c9c151db97e9016bce2bfcdf4dec2ec5e072b7173bc6244a2da75.css><meta property='og:title' content="Code Review Guide — 如何Code Review?"><meta property='og:description' content="前言 隨著現在開發軟體、韌體的人數增加，大家協作同一份 repo 的頻率開始上升，尤其實在公司決定採用 Monorepo 架構後，協作頻率更是呈現指數型狂飆阿。\n工程師難免會因為 deadline 壓力，而遞交出臭臭髒髒的 code，為了避免改 A 壞 B 這種情況發生，以及日後的維護性。這時，如何把關程式碼品質，又不影響到開發進度，就是 Reviewer 重要的課題。\n我之前沒有 Code Review 經驗，想藉由整理這篇文章，好好學習學習。\nWhat is Code Review ? Wiki 上的定義\nCode review is a software quality assurance activity in which one or more people check a program, mainly by viewing and reading parts of its source code, either after implementation or as an interruption of implementation. At least one of the persons must not have authored the code. The persons performing the checking, excluding the author, are called &ldquo;reviewers&rdquo;\n"><meta property='og:url' content='https://chung5116.github.io/p/code-review-guide/'><meta property='og:site_name' content="Austin Chang's Blog"><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='軟體'><meta property='article:published_time' content='2024-01-20T00:00:00+00:00'><meta property='article:modified_time' content='2024-01-20T00:00:00+00:00'><meta property='og:image' content='https://chung5116.github.io/p/code-review-guide/%E7%9C%8B%E7%94%9A%E9%BA%BC.jpg'><meta name=twitter:title content="Code Review Guide — 如何Code Review?"><meta name=twitter:description content="前言 隨著現在開發軟體、韌體的人數增加，大家協作同一份 repo 的頻率開始上升，尤其實在公司決定採用 Monorepo 架構後，協作頻率更是呈現指數型狂飆阿。\n工程師難免會因為 deadline 壓力，而遞交出臭臭髒髒的 code，為了避免改 A 壞 B 這種情況發生，以及日後的維護性。這時，如何把關程式碼品質，又不影響到開發進度，就是 Reviewer 重要的課題。\n我之前沒有 Code Review 經驗，想藉由整理這篇文章，好好學習學習。\nWhat is Code Review ? Wiki 上的定義\nCode review is a software quality assurance activity in which one or more people check a program, mainly by viewing and reading parts of its source code, either after implementation or as an interruption of implementation. At least one of the persons must not have authored the code. The persons performing the checking, excluding the author, are called &ldquo;reviewers&rdquo;\n"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='https://chung5116.github.io/p/code-review-guide/%E7%9C%8B%E7%94%9A%E9%BA%BC.jpg'></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/me_hu_aa5ccdd46484aea1.jpg width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/>Austin Chang's Blog</a></h1><h2 class=site-description>Co-Founder of Tensor Tech</h2></div></header><ol class=menu-social><li><a href=https://www.linkedin.com/in/austin-chang-73446a19a target=_blank title=LinkedIn rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" class="icon icon-tabler icons-tabler-filled icon-tabler-brand-linkedin"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M17 2a5 5 0 015 5v10a5 5 0 01-5 5H7a5 5 0 01-5-5V7a5 5 0 015-5zm-9 8a1 1 0 00-1 1v5a1 1 0 002 0v-5a1 1 0 00-1-1m6 0a3 3 0 00-1.168.236l-.125.057A1 1 0 0011 11v5a1 1 0 002 0v-3a1 1 0 012 0v3a1 1 0 002 0v-3a3 3 0 00-3-3M8 7a1 1 0 00-.993.883L7 8.01a1 1 0 001.993.117L9 8A1 1 0 008 7"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ul><li><a href=#前言>前言</a></li><li><a href=#what-is-code-review->What is Code Review ?</a></li><li><a href=#code-review-看什麼>Code Review 看什麼</a><ul><li><a href=#1-design>1. Design</a></li><li><a href=#2-functionality>2. Functionality</a></li><li><a href=#3-complexity>3. Complexity</a></li><li><a href=#4-tests>4. Tests</a></li><li><a href=#5-naming>5. Naming</a></li><li><a href=#6-comments>6. Comments</a></li><li><a href=#7-style>7. Style</a></li><li><a href=#8-consistency>8. Consistency</a></li><li><a href=#9-documentation>9. Documentation</a></li></ul></li><li><a href=#10-every-line>10. Every Line</a></li><li><a href=#11-context>11. Context</a></li><li><a href=#12-good-things>12. Good Things</a></li><li><a href=#summary>Summary</a></li></ul></nav></div></section></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image style=background-image:url(/p/code-review-guide/%E7%9C%8B%E7%94%9A%E9%BA%BC_hu_2fa932dedf7c9c32.jpg)><a href=/p/code-review-guide/><img src=/p/code-review-guide/%E7%9C%8B%E7%94%9A%E9%BA%BC_hu_ea8ca652a93575da.jpg srcset="/p/code-review-guide/%E7%9C%8B%E7%94%9A%E9%BA%BC_hu_ea8ca652a93575da.jpg 800w, /p/code-review-guide/%E7%9C%8B%E7%94%9A%E9%BA%BC_hu_9dec527f3c11b48b.jpg 1600w" width=800 height=451 loading=lazy alt="Featured image of post Code Review Guide — 如何Code Review?"></a></div><div class=article-details><div class=article-title-wrapper><h2 class=article-title><a href=/p/code-review-guide/>Code Review Guide — 如何Code Review?</a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published datetime=2024-01-20T00:00:00Z>Jan 20, 2024</time></div></footer></div></header><section class=article-content><h2 id=前言>前言</h2><p>隨著現在開發軟體、韌體的人數增加，大家協作同一份 repo 的頻率開始上升，尤其實在公司決定採用 Monorepo 架構後，協作頻率更是呈現指數型狂飆阿。</p><p>工程師難免會因為 deadline 壓力，而遞交出<a class=link href=https://www.opsera.io/blog/what-is-code-smell target=_blank rel=noopener>臭臭髒髒的 code</a>，為了避免改 A 壞 B 這種情況發生，以及日後的維護性。這時，如何把關程式碼品質，又不影響到開發進度，就是 Reviewer 重要的課題。</p><p>我之前沒有 Code Review 經驗，想藉由整理這篇文章，好好學習學習。</p><h2 id=what-is-code-review->What is Code Review ?</h2><p>Wiki 上的定義</p><blockquote><p>Code review is a software quality assurance activity in which one or more people check a program, mainly by viewing and reading parts of its source code, either after implementation or as an interruption of implementation. At least one of the persons must not have authored the code. The persons performing the checking, excluding the author, are called &ldquo;reviewers&rdquo;</p></blockquote><p>它的目的是某種程度上預防可能的錯誤，和增進程式的品質。 而除此之外，透過適當的 code review 更可以讓團隊裡面的每一位成員了解各個部份的程式碼。 如此一來，在維護同一份程式的時候，團隊的成員就更能對程式的架構有一定的共識。可以避免不小心重覆做了其實已經有的功能，或者是做了一個功能結果發現和本來設計的理念大相逕庭的狀況發生。</p><h2 id=code-review-看什麼>Code Review 看什麼</h2><p><img src=/p/code-review-guide/%E7%9C%8B%E7%94%9A%E9%BA%BC.jpg width=415 height=234 srcset="/p/code-review-guide/%E7%9C%8B%E7%94%9A%E9%BA%BC_hu_d412436392c23c1c.jpg 480w, /p/code-review-guide/%E7%9C%8B%E7%94%9A%E9%BA%BC_hu_f4aed586adf170fe.jpg 1024w" loading=lazy class=gallery-image data-flex-grow=177 data-flex-basis=425px></p><h3 id=1-design>1. Design</h3><p>是審查中最重要的部分，看這次的 CL的內容是否合理，是否會跟其他系統產生衝突? 現在加入這項功能是好時機嗎?</p><h3 id=2-functionality>2. Functionality</h3><p>CL 有達到開發者的預期嗎? CL 有幫助到 user 嗎? (公司其他的工程師或是客戶)</p><p>通常，我是說"通常"，我們會期待開發者自己把 CL 做好完整的測試。但，只要是人都會犯錯，所以需要 Reviewer 來幫忙一起檢查，是否有考慮到 edge case、concurrency 問題。嘗試站在使用者角度來看這份 CL。</p><p>尤其是在 CL 是關於 <strong>&ldquo;使用者感受的到&rdquo;</strong> 的部分，例如 UI 的更改。這時候，光看 code 很難知道這些改動是如何影響到使用者。對於這一類的CL，可以要求開發者附上 demo，例如 UI 改動前後的截圖等。</p><p>另外，要特別注意的是有沒有因為 parallel programming 而造成 deadlocks or race conditions。這類的問題，通常不容易發現。最輕鬆的解決方式，就是不去使用這一類的 Lib or model。(逃避可恥，但是有用)</p><h3 id=3-complexity>3. Complexity</h3><p>CL 是否太過複雜? 檢查每一層級，單行code是否太複雜? function 是否太複雜? class 是否太複雜? 太複雜，代表不易讀，也代表其他工程師要使用或修改時，容易發生錯誤。</p><p>另一種太複雜狀況是 <strong>過度設計</strong>，開發者把 code 變得太過通用，或是加入了現在不需要的功能。雖然開發者是求好心切，為未來可能需要解決的問題做準備，但 Reviewer 還是需要注意此狀況，讓開發者專注在現在要解決的問題上。</p><h3 id=4-tests>4. Tests</h3><p>根據情況，要求 unit, integration, or end-to-end tests，我知道很多工程師都不喜歡寫測試，這時候 Reviewer 需要硬起來要求!</p><p>記得，測試也是需要被維護的，不要因為它不是主要功能，就忽視它。</p><p>雖然寫測試不是仙丹，能治好百 bug，至少能在一定程度上把關程式碼品質。如果把程式碼比喻成一台火車，那麼，寫測試至少可以確保，這一台火車不會開一開，半路上突然開出軌。</p><p>延伸閱讀:</p><ul><li><a class=link href="https://www.yinwang.org/blog-cn/2016/09/14/tests?source=post_page-----e55930d44fba--------------------------------" target=_blank rel=noopener>為什麼我們不好意思承認，我們不知道如何寫測試？</a></li></ul><h3 id=5-naming>5. Naming</h3><p>正確的命名，能夠大幅增加程式碼可讀性。</p><p>取名取什麼那 a,b,c 都欠吊起來打! 拜託不要互相傷害。</p><p><img src=/p/code-review-guide/%E8%AE%8A%E6%95%B8.jpg width=415 height=233 srcset="/p/code-review-guide/%E8%AE%8A%E6%95%B8_hu_e21571b82cb87a6b.jpg 480w, /p/code-review-guide/%E8%AE%8A%E6%95%B8_hu_51c95e66aa37f160.jpg 1024w" loading=lazy class=gallery-image data-flex-grow=178 data-flex-basis=427px></p><h3 id=6-comments>6. Comments</h3><p>解釋程式碼為什麼存在 (Why)，而不是解釋程式碼做了什麼(What)。
如果程式碼不能輕易被理解，那應該要想辦法簡化程式碼。</p><p>但還是有些例外，例如像是一些複雜的演算法，或是商業邏輯。</p><p>延伸閱讀:</p><ul><li><a class=link href=https://medium.com/%E6%89%8B%E5%AF%AB%E7%AD%86%E8%A8%98/clean-code-index-51e209cc47db target=_blank rel=noopener>Clean Code</a></li></ul><h3 id=7-style>7. Style</h3><p>就看看公司有沒有規定囉。如果沒有，可以參考 <a class=link href=https://google.github.io/styleguide/ target=_blank rel=noopener>Google</a>的</p><p>延伸閱讀:</p><ul><li>[Python Coding Style]</li></ul><h3 id=8-consistency>8. Consistency</h3><p>如果現存的程式碼不符合 style 怎麼辦? 規定就是拿來遵守，改就對了，讓程式碼品質就像童子軍規則一樣 (離開營地前，讓營地比使用前更加乾淨)。每次打開專案，我們就改一點，讓程式碼的品質變得更好。</p><h3 id=9-documentation>9. Documentation</h3><p><img src=/p/code-review-guide/%E5%BF%AB%E9%80%83.jpg width=415 height=303 srcset="/p/code-review-guide/%E5%BF%AB%E9%80%83_hu_1994e2aef61cc3d6.jpg 480w, /p/code-review-guide/%E5%BF%AB%E9%80%83_hu_a03166631422cc10.jpg 1024w" loading=lazy class=gallery-image data-flex-grow=136 data-flex-basis=328px>
如果 CL 更改的介面會影響到其他人使用的地方，請檢查相關文件是有一併做更新。</p><h2 id=10-every-line>10. Every Line</h2><p>通常，會需要看過每一行 CL 的程式碼。像一些 data files, 自動生成程式碼等，可以快速掃過。</p><p>但只是要人寫出來的程式碼，請仔細慎查，確保你知道這些程式碼的用途。</p><p>如果 Reviewer 覺得程式碼讀起來很痛苦，很難讀，讓整體 review 速度變慢。那麼，應該要讓開發者知道這一點，讓他們把 CL 修改成更容易懂，再遞交審查。這也幫助之後維護這份程式碼的工程師。</p><p>如果你覺得不夠資格審查某段程式碼，請找一位夠格的審查者。</p><h2 id=11-context>11. Context</h2><p>用不同的角度審查CL。有時候，雖然只是改動幾行code，必須看整份檔案才能確保改動是合理的。</p><p>例如: 改動只有4行 code，但他把這4行加到一個100行的 function，當你看到整份檔案，你就會發現這 function 需要被拆解。</p><h2 id=12-good-things>12. Good Things</h2><p>如果在 CL 看到不錯的內容，告訴開發者，有時告訴開發者他們做對了什麼比告訴他們做錯了什麼更有價值。</p><p><img src=/p/code-review-guide/%E5%A4%A7%E6%8B%87%E6%8C%87.jpg width=415 height=234 srcset="/p/code-review-guide/%E5%A4%A7%E6%8B%87%E6%8C%87_hu_4c9c0fd4c148e21f.jpg 480w, /p/code-review-guide/%E5%A4%A7%E6%8B%87%E6%8C%87_hu_933f43084f198c0c.jpg 1024w" loading=lazy class=gallery-image data-flex-grow=177 data-flex-basis=425px></p><h2 id=summary>Summary</h2><p>Review 時，確認以下幾點</p><ul><li>程式碼都是經過精心設計的</li><li>該功能對於程式碼的使用者來說是有用的</li><li>任何 UI 改動都要是合理的</li><li>任何平行運算都要安全地完成</li><li>程式碼沒有過度設計</li><li>開發者並沒有實作將來可能需要，但不知道他們現在需不需要的功能</li><li>有適當的單元測試</li><li>測試有經過良好的設計</li><li>名稱是有意義的</li><li>註解是清楚且有用，解釋 why 而非 what</li><li>程式碼有適當的文件記錄</li><li>程式碼有符合 coding style</li></ul></section><footer class=article-footer><section class=article-tags><a href=/tags/%E8%BB%9F%E9%AB%94/>軟體</a></section></footer></article><footer class=site-footer><section class=copyright>&copy;
2026 Austin Chang's Blog</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.33.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.c922af694cc257bf1ecc41c0dd7b0430f9114ec280ccf67cd2c6ad55f5316c4e.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>